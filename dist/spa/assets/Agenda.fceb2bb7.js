import{Q as Jt}from"./QPage.427b77fd.js";import{_ as Wt}from"./PageTitle.726b0bdc.js";import{a as y,bl as bt,bm as Xt,c as St,aP as Ut,v as Gt,y as Kt,bn as ea,r as T,b0 as ta,w as ue,h as g,W as me,d as wt,i as xt,bo as aa,C as rt,f as Z,t as na,u as Ne,Z as oa,x as ra,_ as la,z as ua,$ as sa,A as ia,a0 as ca,l as lt,ao as ut,al as st,a5 as da,aa as va,G as Yt,J as De,aE as He,P as z,M as Me,L as Te,b5 as it,b4 as ct,b6 as fa,bb as Ce,N as Ze,K as ma}from"./index.83b5ee12.js";import{u as ha}from"./use-render-cache.3aae9b27.js";import{g as w,h as ga,v as dt,a as ya,p as vt,c as _a,d as Da,r as ft,s as Ma,f as mt,e as ba}from"./format.ef5f6091.js";import{Q as Sa}from"./QScrollArea.8f82f397.js";import"./Button.961de4f0.js";import"./QScrollObserver.7a2db925.js";import"./touch.9135741d.js";const K=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function wa(e,o,s){return Object.prototype.toString.call(e)==="[object Date]"&&(s=e.getDate(),o=e.getMonth()+1,e=e.getFullYear()),Ca(Re(e,o,s))}function ht(e,o,s){return Ct(Ha(e,o,s))}function xa(e){return Ya(e)===0}function Oe(e,o){return o<=6?31:o<=11||xa(e)?30:29}function Ya(e){const o=K.length;let s=K[0],l,d,r,D,u;if(e<s||e>=K[o-1])throw new Error("Invalid Jalaali year "+e);for(u=1;u<o&&(l=K[u],d=l-s,!(e<l));u+=1)s=l;return D=e-s,d-D<6&&(D=D-d+Y(d+4,33)*33),r=E(E(D+1,33)-1,4),r===-1&&(r=4),r}function Ht(e,o){const s=K.length,l=e+621;let d=-14,r=K[0],D,u,f,b,v;if(e<r||e>=K[s-1])throw new Error("Invalid Jalaali year "+e);for(v=1;v<s&&(D=K[v],u=D-r,!(e<D));v+=1)d=d+Y(u,33)*8+Y(E(u,33),4),r=D;b=e-r,d=d+Y(b,33)*8+Y(E(b,33)+3,4),E(u,33)===4&&u-b===4&&(d+=1);const _=Y(l,4)-Y((Y(l,100)+1)*3,4)-150,F=20+d-_;return o||(u-b<6&&(b=b-u+Y(u+4,33)*33),f=E(E(b+1,33)-1,4),f===-1&&(f=4)),{leap:f,gy:l,march:F}}function Ha(e,o,s){const l=Ht(e,!0);return Re(l.gy,3,l.march)+(o-1)*31-Y(o,7)*(o-7)+s-1}function Ca(e){const o=Ct(e).gy;let s=o-621,l,d,r;const D=Ht(s,!1),u=Re(o,3,D.march);if(r=e-u,r>=0){if(r<=185)return d=1+Y(r,31),l=E(r,31)+1,{jy:s,jm:d,jd:l};r-=186}else s-=1,r+=179,D.leap===1&&(r+=1);return d=7+Y(r,30),l=E(r,30)+1,{jy:s,jm:d,jd:l}}function Re(e,o,s){let l=Y((e+Y(o-8,6)+100100)*1461,4)+Y(153*E(o+9,12)+2,5)+s-34840408;return l=l-Y(Y(e+100100+Y(o-8,6),100)*3,4)+752,l}function Ct(e){let o=4*e+139361631;o=o+Y(Y(4*e+183187720,146097)*3,4)*4-3908;const s=Y(E(o,1461),4)*5+308,l=Y(E(s,153),5)+1,d=E(Y(s,153),12)+1;return{gy:Y(o,1461)-100100+Y(8-d,6),gm:d,gd:l}}function Y(e,o){return~~(e/o)}function E(e,o){return e-~~(e/o)*o}const ka=["gregorian","persian"],gt={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>ka.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Oa=["update:modelValue"];function U(e){return e.year+"/"+w(e.month)+"/"+w(e.day)}function Ta(e,o){const s=y(()=>e.disable!==!0&&e.readonly!==!0),l=y(()=>s.value===!0?0:-1),d=y(()=>{const u=[];return e.color!==void 0&&u.push(`bg-${e.color}`),e.textColor!==void 0&&u.push(`text-${e.textColor}`),u.join(" ")});function r(){return e.locale!==void 0?{...o.lang.date,...e.locale}:o.lang.date}function D(u){const f=new Date,b=u===!0?null:0;if(e.calendar==="persian"){const v=wa(f);return{year:v.jy,month:v.jm,day:v.jd}}return{year:f.getFullYear(),month:f.getMonth()+1,day:f.getDate(),hour:b,minute:b,second:b,millisecond:b}}return{editable:s,tabindex:l,headerClass:d,getLocale:r,getCurrentDate:D}}const kt=864e5,pa=36e5,ze=6e4,Ot="YYYY-MM-DDTHH:mm:ss.SSSZ",qa=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Aa=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Pe={};function Ia(e,o){const s="("+o.days.join("|")+")",l=e+s;if(Pe[l]!==void 0)return Pe[l];const d="("+o.daysShort.join("|")+")",r="("+o.months.join("|")+")",D="("+o.monthsShort.join("|")+")",u={};let f=0;const b=e.replace(Aa,_=>{switch(f++,_){case"YY":return u.YY=f,"(-?\\d{1,2})";case"YYYY":return u.YYYY=f,"(-?\\d{1,4})";case"M":return u.M=f,"(\\d{1,2})";case"Mo":return u.M=f++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return u.M=f,"(\\d{2})";case"MMM":return u.MMM=f,D;case"MMMM":return u.MMMM=f,r;case"D":return u.D=f,"(\\d{1,2})";case"Do":return u.D=f++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return u.D=f,"(\\d{2})";case"H":return u.H=f,"(\\d{1,2})";case"HH":return u.H=f,"(\\d{2})";case"h":return u.h=f,"(\\d{1,2})";case"hh":return u.h=f,"(\\d{2})";case"m":return u.m=f,"(\\d{1,2})";case"mm":return u.m=f,"(\\d{2})";case"s":return u.s=f,"(\\d{1,2})";case"ss":return u.s=f,"(\\d{2})";case"S":return u.S=f,"(\\d{1})";case"SS":return u.S=f,"(\\d{2})";case"SSS":return u.S=f,"(\\d{3})";case"A":return u.A=f,"(AM|PM)";case"a":return u.a=f,"(am|pm)";case"aa":return u.aa=f,"(a\\.m\\.|p\\.m\\.)";case"ddd":return d;case"dddd":return s;case"Q":case"d":case"E":return"(\\d{1})";case"do":return f++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return f++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return f++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return u.Z=f,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return u.ZZ=f,"(Z|[+-]\\d{2}\\d{2})";case"X":return u.X=f,"(-?\\d+)";case"x":return u.x=f,"(-?\\d{4,})";default:return f--,_[0]==="["&&(_=_.substring(1,_.length-1)),_.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),v={map:u,regex:new RegExp("^"+b)};return Pe[l]=v,v}function Tt(e,o){return e!==void 0?e:o!==void 0?o.date:Xt.date}function yt(e,o=""){const s=e>0?"-":"+",l=Math.abs(e),d=Math.floor(l/60),r=l%60;return s+w(d)+o+w(r)}function $a(e,o,s,l,d){const r={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(d!==void 0&&Object.assign(r,d),e==null||e===""||typeof e!="string")return r;o===void 0&&(o=Ot);const D=Tt(s,bt.props),u=D.months,f=D.monthsShort,{regex:b,map:v}=Ia(o,D),_=e.match(b);if(_===null)return r;let F="";if(v.X!==void 0||v.x!==void 0){const A=parseInt(_[v.X!==void 0?v.X:v.x],10);if(isNaN(A)===!0||A<0)return r;const I=new Date(A*(v.X!==void 0?1e3:1));r.year=I.getFullYear(),r.month=I.getMonth()+1,r.day=I.getDate(),r.hour=I.getHours(),r.minute=I.getMinutes(),r.second=I.getSeconds(),r.millisecond=I.getMilliseconds()}else{if(v.YYYY!==void 0)r.year=parseInt(_[v.YYYY],10);else if(v.YY!==void 0){const A=parseInt(_[v.YY],10);r.year=A<0?A:2e3+A}if(v.M!==void 0){if(r.month=parseInt(_[v.M],10),r.month<1||r.month>12)return r}else v.MMM!==void 0?r.month=f.indexOf(_[v.MMM])+1:v.MMMM!==void 0&&(r.month=u.indexOf(_[v.MMMM])+1);if(v.D!==void 0){if(r.day=parseInt(_[v.D],10),r.year===null||r.month===null||r.day<1)return r;const A=l!=="persian"?new Date(r.year,r.month,0).getDate():Oe(r.year,r.month);if(r.day>A)return r}v.H!==void 0?r.hour=parseInt(_[v.H],10)%24:v.h!==void 0&&(r.hour=parseInt(_[v.h],10)%12,(v.A&&_[v.A]==="PM"||v.a&&_[v.a]==="pm"||v.aa&&_[v.aa]==="p.m.")&&(r.hour+=12),r.hour=r.hour%24),v.m!==void 0&&(r.minute=parseInt(_[v.m],10)%60),v.s!==void 0&&(r.second=parseInt(_[v.s],10)%60),v.S!==void 0&&(r.millisecond=parseInt(_[v.S],10)*10**(3-_[v.S].length)),(v.Z!==void 0||v.ZZ!==void 0)&&(F=v.Z!==void 0?_[v.Z].replace(":",""):_[v.ZZ],r.timezoneOffset=(F[0]==="+"?-1:1)*(60*F.slice(1,3)+1*F.slice(3,5)))}return r.dateHash=w(r.year,6)+"/"+w(r.month)+"/"+w(r.day),r.timeHash=w(r.hour)+":"+w(r.minute)+":"+w(r.second)+F,r}function Be(e){const o=new Date(e.getFullYear(),e.getMonth(),e.getDate());o.setDate(o.getDate()-(o.getDay()+6)%7+3);const s=new Date(o.getFullYear(),0,4);s.setDate(s.getDate()-(s.getDay()+6)%7+3);const l=o.getTimezoneOffset()-s.getTimezoneOffset();o.setHours(o.getHours()-l);const d=(o-s)/(kt*7);return 1+Math.floor(d)}function R(e,o,s){const l=new Date(e),d=`set${s===!0?"UTC":""}`;switch(o){case"year":case"years":l[`${d}Month`](0);case"month":case"months":l[`${d}Date`](1);case"day":case"days":case"date":l[`${d}Hours`](0);case"hour":case"hours":l[`${d}Minutes`](0);case"minute":case"minutes":l[`${d}Seconds`](0);case"second":case"seconds":l[`${d}Milliseconds`](0)}return l}function ke(e,o,s){return(e.getTime()-e.getTimezoneOffset()*ze-(o.getTime()-o.getTimezoneOffset()*ze))/s}function pt(e,o,s="days"){const l=new Date(e),d=new Date(o);switch(s){case"years":case"year":return l.getFullYear()-d.getFullYear();case"months":case"month":return(l.getFullYear()-d.getFullYear())*12+l.getMonth()-d.getMonth();case"days":case"day":case"date":return ke(R(l,"day"),R(d,"day"),kt);case"hours":case"hour":return ke(R(l,"hour"),R(d,"hour"),pa);case"minutes":case"minute":return ke(R(l,"minute"),R(d,"minute"),ze);case"seconds":case"second":return ke(R(l,"second"),R(d,"second"),1e3)}}function Le(e){return pt(e,R(e,"year"),"days")+1}function ve(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const _t={YY(e,o,s){const l=this.YYYY(e,o,s)%100;return l>=0?w(l):"-"+w(Math.abs(l))},YYYY(e,o,s){return s!=null?s:e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return ve(e.getMonth()+1)},MM(e){return w(e.getMonth()+1)},MMM(e,o){return o.monthsShort[e.getMonth()]},MMMM(e,o){return o.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return ve(this.Q(e))},D(e){return e.getDate()},Do(e){return ve(e.getDate())},DD(e){return w(e.getDate())},DDD(e){return Le(e)},DDDo(e){return ve(Le(e))},DDDD(e){return w(Le(e),3)},d(e){return e.getDay()},do(e){return ve(e.getDay())},dd(e,o){return o.days[e.getDay()].slice(0,2)},ddd(e,o){return o.daysShort[e.getDay()]},dddd(e,o){return o.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Be(e)},wo(e){return ve(Be(e))},ww(e){return w(Be(e))},H(e){return e.getHours()},HH(e){return w(e.getHours())},h(e){const o=e.getHours();return o===0?12:o>12?o%12:o},hh(e){return w(this.h(e))},m(e){return e.getMinutes()},mm(e){return w(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return w(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return w(Math.floor(e.getMilliseconds()/10))},SSS(e){return w(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,o,s,l){const d=l==null?e.getTimezoneOffset():l;return yt(d,":")},ZZ(e,o,s,l){const d=l==null?e.getTimezoneOffset():l;return yt(d)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Ea(e,o,s,l,d){if(e!==0&&!e||e===1/0||e===-1/0)return;const r=new Date(e);if(isNaN(r))return;o===void 0&&(o=Ot);const D=Tt(s,bt.props);return o.replace(qa,(u,f)=>u in _t?_t[u](r,D,l,d):f===void 0?u:f.split("\\]").join("]"))}const le=20,Va=["Calendar","Years","Months"],Dt=e=>Va.includes(e),Qe=e=>/^-?[\d]+\/[0-1]\d$/.test(e),fe=" \u2014 ";function G(e){return e.year+"/"+w(e.month)}var ja=St({name:"QDate",props:{...gt,...Ut,...Gt,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...gt.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Qe},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Qe},navigationMaxYearMonth:{type:String,validator:Qe},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Dt}},emits:[...Oa,"rangeStart","rangeEnd","navigation"],setup(e,{slots:o,emit:s}){const{proxy:l}=xt(),{$q:d}=l,r=Kt(e,d),{getCache:D}=ha(),{tabindex:u,headerClass:f,getLocale:b,getCurrentDate:v}=Ta(e,d);let _;const F=ea(e),A=aa(F),I=T(null),V=T(Ge()),C=T(b()),pe=y(()=>Ge()),be=y(()=>b()),N=y(()=>v()),h=T(Ke(V.value,C.value)),H=T(e.defaultView),Se=y(()=>d.lang.rtl===!0?"right":"left"),P=T(Se.value),he=T(Se.value),ee=h.value.year,te=T(ee-ee%le-(ee<0?le:0)),k=T(null),qe=y(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(r.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),L=y(()=>e.color||"primary"),J=y(()=>e.textColor||"white"),ae=y(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),Q=y(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),$=y(()=>Q.value.filter(t=>typeof t=="string").map(t=>$e(t,V.value,C.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),W=y(()=>{const t=a=>$e(a,V.value,C.value);return Q.value.filter(a=>ta(a)===!0&&a.from!==void 0&&a.to!==void 0).map(a=>({from:t(a.from),to:t(a.to)})).filter(a=>a.from.dateHash!==null&&a.to.dateHash!==null&&a.from.dateHash<a.to.dateHash)}),se=y(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const a=ht(t.year,t.month,t.day);return new Date(a.gy,a.gm-1,a.gd)}),ie=y(()=>e.calendar==="persian"?U:(t,a,n)=>Ea(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),a===void 0?V.value:a,n===void 0?C.value:n,t.year,t.timezoneOffset)),ne=y(()=>$.value.length+W.value.reduce((t,a)=>t+1+pt(se.value(a.to),se.value(a.from)),0)),we=y(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(k.value!==null){const n=k.value.init,i=se.value(n);return C.value.daysShort[i.getDay()]+", "+C.value.monthsShort[n.month-1]+" "+n.day+fe+"?"}if(ne.value===0)return fe;if(ne.value>1)return`${ne.value} ${C.value.pluralDay}`;const t=$.value[0],a=se.value(t);return isNaN(a.valueOf())===!0?fe:C.value.headerTitle!==void 0?C.value.headerTitle(a,t):C.value.daysShort[a.getDay()]+", "+C.value.monthsShort[t.month-1]+" "+t.day}),O=y(()=>$.value.concat(W.value.map(a=>a.from)).sort((a,n)=>a.year-n.year||a.month-n.month)[0]),ge=y(()=>$.value.concat(W.value.map(a=>a.to)).sort((a,n)=>n.year-a.year||n.month-a.month)[0]),B=y(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(ne.value===0)return fe;if(ne.value>1){const t=O.value,a=ge.value,n=C.value.monthsShort;return n[t.month-1]+(t.year!==a.year?" "+t.year+fe+n[a.month-1]+" ":t.month!==a.month?fe+n[a.month-1]:"")+" "+a.year}return $.value[0].year}),oe=y(()=>{const t=[d.iconSet.datetime.arrowLeft,d.iconSet.datetime.arrowRight];return d.lang.rtl===!0?t.reverse():t}),Je=y(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):C.value.firstDayOfWeek),qt=y(()=>{const t=C.value.daysShort,a=Je.value;return a>0?t.slice(a,7).concat(t.slice(0,a)):t}),X=y(()=>{const t=h.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():Oe(t.year,t.month)}),At=y(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),p=y(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),q=y(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),Ae=y(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return p.value!==null&&p.value.year>=h.value.year&&(t.year.prev=!1,p.value.year===h.value.year&&p.value.month>=h.value.month&&(t.month.prev=!1)),q.value!==null&&q.value.year<=h.value.year&&(t.year.next=!1,q.value.year===h.value.year&&q.value.month<=h.value.month&&(t.month.next=!1)),t}),xe=y(()=>{const t={};return $.value.forEach(a=>{const n=G(a);t[n]===void 0&&(t[n]=[]),t[n].push(a.day)}),t}),We=y(()=>{const t={};return W.value.forEach(a=>{const n=G(a.from),i=G(a.to);if(t[n]===void 0&&(t[n]=[]),t[n].push({from:a.from.day,to:n===i?a.to.day:void 0,range:a}),n<i){let c;const{year:S,month:m}=a.from,M=m<12?{year:S,month:m+1}:{year:S+1,month:1};for(;(c=G(M))<=i;)t[c]===void 0&&(t[c]=[]),t[c].push({from:void 0,to:c===i?a.to.day:void 0,range:a}),M.month++,M.month>12&&(M.year++,M.month=1)}}),t}),ye=y(()=>{if(k.value===null)return;const{init:t,initHash:a,final:n,finalHash:i}=k.value,[c,S]=a<=i?[t,n]:[n,t],m=G(c),M=G(S);if(m!==j.value&&M!==j.value)return;const x={};return m===j.value?(x.from=c.day,x.includeFrom=!0):x.from=1,M===j.value?(x.to=S.day,x.includeTo=!0):x.to=X.value,x}),j=y(()=>G(h.value)),It=y(()=>{const t={};if(e.options===void 0){for(let n=1;n<=X.value;n++)t[n]=!0;return t}const a=typeof e.options=="function"?e.options:n=>e.options.includes(n);for(let n=1;n<=X.value;n++){const i=j.value+"/"+w(n);t[n]=a(i)}return t}),$t=y(()=>{const t={};if(e.events===void 0)for(let a=1;a<=X.value;a++)t[a]=!1;else{const a=typeof e.events=="function"?e.events:n=>e.events.includes(n);for(let n=1;n<=X.value;n++){const i=j.value+"/"+w(n);t[n]=a(i)===!0&&At.value(i)}}return t}),Et=y(()=>{let t,a;const{year:n,month:i}=h.value;if(e.calendar!=="persian")t=new Date(n,i-1,1),a=new Date(n,i-1,0).getDate();else{const c=ht(n,i,1);t=new Date(c.gy,c.gm-1,c.gd);let S=i-1,m=n;S===0&&(S=12,m--),a=Oe(m,S)}return{days:t.getDay()-Je.value-1,endDay:a}}),Xe=y(()=>{const t=[],{days:a,endDay:n}=Et.value,i=a<0?a+7:a;if(i<6)for(let m=n-i;m<=n;m++)t.push({i:m,fill:!0});const c=t.length;for(let m=1;m<=X.value;m++){const M={i:m,event:$t.value[m],classes:[]};It.value[m]===!0&&(M.in=!0,M.flat=!0),t.push(M)}if(xe.value[j.value]!==void 0&&xe.value[j.value].forEach(m=>{const M=c+m-1;Object.assign(t[M],{selected:!0,unelevated:!0,flat:!1,color:L.value,textColor:J.value})}),We.value[j.value]!==void 0&&We.value[j.value].forEach(m=>{if(m.from!==void 0){const M=c+m.from-1,x=c+(m.to||X.value)-1;for(let _e=M;_e<=x;_e++)Object.assign(t[_e],{range:m.range,unelevated:!0,color:L.value,textColor:J.value});Object.assign(t[M],{rangeFrom:!0,flat:!1}),m.to!==void 0&&Object.assign(t[x],{rangeTo:!0,flat:!1})}else if(m.to!==void 0){const M=c+m.to-1;for(let x=c;x<=M;x++)Object.assign(t[x],{range:m.range,unelevated:!0,color:L.value,textColor:J.value});Object.assign(t[M],{flat:!1,rangeTo:!0})}else{const M=c+X.value-1;for(let x=c;x<=M;x++)Object.assign(t[x],{range:m.range,unelevated:!0,color:L.value,textColor:J.value})}}),ye.value!==void 0){const m=c+ye.value.from-1,M=c+ye.value.to-1;for(let x=m;x<=M;x++)t[x].color=L.value,t[x].editRange=!0;ye.value.includeFrom===!0&&(t[m].editRangeFrom=!0),ye.value.includeTo===!0&&(t[M].editRangeTo=!0)}h.value.year===N.value.year&&h.value.month===N.value.month&&(t[c+N.value.day-1].today=!0);const S=t.length%7;if(S>0){const m=7-S;for(let M=1;M<=m;M++)t.push({i:M,fill:!0})}return t.forEach(m=>{let M="q-date__calendar-item ";m.fill===!0?M+="q-date__calendar-item--fill":(M+=`q-date__calendar-item--${m.in===!0?"in":"out"}`,m.range!==void 0&&(M+=` q-date__range${m.rangeTo===!0?"-to":m.rangeFrom===!0?"-from":""}`),m.editRange===!0&&(M+=` q-date__edit-range${m.editRangeFrom===!0?"-from":""}${m.editRangeTo===!0?"-to":""}`),(m.range!==void 0||m.editRange===!0)&&(M+=` text-${m.color}`)),m.classes=M}),t}),Vt=y(()=>e.disable===!0?{"aria-disabled":"true"}:{});ue(()=>e.modelValue,t=>{if(_===t)_=0;else{const a=Ke(V.value,C.value);ce(a.year,a.month,a)}}),ue(H,()=>{I.value!==null&&l.$el.contains(document.activeElement)===!0&&I.value.focus()}),ue(()=>h.value.year+"|"+h.value.month,()=>{s("navigation",{year:h.value.year,month:h.value.month})}),ue(pe,t=>{ot(t,C.value,"mask"),V.value=t}),ue(be,t=>{ot(V.value,t,"locale"),C.value=t});function Ue(){const{year:t,month:a,day:n}=N.value,i={...h.value,year:t,month:a,day:n},c=xe.value[G(i)];(c===void 0||c.includes(i.day)===!1)&&Ve(i),Ie(i.year,i.month)}function jt(t){Dt(t)===!0&&(H.value=t)}function Ft(t,a){["month","year"].includes(t)&&(t==="month"?tt:Ee)(a===!0?-1:1)}function Ie(t,a){H.value="Calendar",ce(t,a)}function Nt(t,a){if(e.range===!1||!t){k.value=null;return}const n=Object.assign({...h.value},t),i=a!==void 0?Object.assign({...h.value},a):n;k.value={init:n,initHash:U(n),final:i,finalHash:U(i)},Ie(n.year,n.month)}function Ge(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function $e(t,a,n){return $a(t,a,n,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Ke(t,a){const n=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(n.length===0)return et();const i=n[n.length-1],c=$e(i.from!==void 0?i.from:i,t,a);return c.dateHash===null?et():c}function et(){let t,a;if(e.defaultYearMonth!==void 0){const n=e.defaultYearMonth.split("/");t=parseInt(n[0],10),a=parseInt(n[1],10)}else{const n=N.value!==void 0?N.value:v();t=n.year,a=n.month}return{year:t,month:a,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+w(a)+"/01"}}function tt(t){let a=h.value.year,n=Number(h.value.month)+t;n===13?(n=1,a++):n===0&&(n=12,a--),ce(a,n),ae.value===!0&&Ye("month")}function Ee(t){const a=Number(h.value.year)+t;ce(a,h.value.month),ae.value===!0&&Ye("year")}function Pt(t){ce(t,h.value.month),H.value=e.defaultView==="Years"?"Months":"Calendar",ae.value===!0&&Ye("year")}function Bt(t){ce(h.value.year,t),H.value="Calendar",ae.value===!0&&Ye("month")}function Lt(t,a){const n=xe.value[a];(n!==void 0&&n.includes(t.day)===!0?je:Ve)(t)}function re(t){return{year:t.year,month:t.month,day:t.day}}function ce(t,a,n){if(p.value!==null&&t<=p.value.year&&((a<p.value.month||t<p.value.year)&&(a=p.value.month),t=p.value.year),q.value!==null&&t>=q.value.year&&((a>q.value.month||t>q.value.year)&&(a=q.value.month),t=q.value.year),n!==void 0){const{hour:c,minute:S,second:m,millisecond:M,timezoneOffset:x,timeHash:_e}=n;Object.assign(h.value,{hour:c,minute:S,second:m,millisecond:M,timezoneOffset:x,timeHash:_e})}const i=t+"/"+w(a)+"/01";i!==h.value.dateHash&&(P.value=h.value.dateHash<i==(d.lang.rtl!==!0)?"left":"right",t!==h.value.year&&(he.value=P.value),rt(()=>{te.value=t-t%le-(t<0?le:0),Object.assign(h.value,{year:t,month:a,day:1,dateHash:i})}))}function at(t,a,n){const i=t!==null&&t.length===1&&e.multiple===!1?t[0]:t;_=i;const{reason:c,details:S}=nt(a,n);s("update:modelValue",i,c,S)}function Ye(t){const a=$.value[0]!==void 0&&$.value[0].dateHash!==null?{...$.value[0]}:{...h.value};rt(()=>{a.year=h.value.year,a.month=h.value.month;const n=e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():Oe(a.year,a.month);a.day=Math.min(Math.max(1,a.day),n);const i=de(a);_=i;const{details:c}=nt("",a);s("update:modelValue",i,t,c)})}function nt(t,a){return a.from!==void 0?{reason:`${t}-range`,details:{...re(a.target),from:re(a.from),to:re(a.to)}}:{reason:`${t}-day`,details:re(a)}}function de(t,a,n){return t.from!==void 0?{from:ie.value(t.from,a,n),to:ie.value(t.to,a,n)}:ie.value(t,a,n)}function Ve(t){let a;if(e.multiple===!0)if(t.from!==void 0){const n=U(t.from),i=U(t.to),c=$.value.filter(m=>m.dateHash<n||m.dateHash>i),S=W.value.filter(({from:m,to:M})=>M.dateHash<n||m.dateHash>i);a=c.concat(S).concat(t).map(m=>de(m))}else{const n=Q.value.slice();n.push(de(t)),a=n}else a=de(t);at(a,"add",t)}function je(t){if(e.noUnset===!0)return;let a=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const n=de(t);t.from!==void 0?a=e.modelValue.filter(i=>i.from!==void 0?i.from!==n.from&&i.to!==n.to:!0):a=e.modelValue.filter(i=>i!==n),a.length===0&&(a=null)}at(a,"remove",t)}function ot(t,a,n){const i=$.value.concat(W.value).map(c=>de(c,t,a)).filter(c=>c.from!==void 0?c.from.dateHash!==null&&c.to.dateHash!==null:c.dateHash!==null);s("update:modelValue",(e.multiple===!0?i:i[0])||null,n)}function Qt(){if(e.minimal!==!0)return g("div",{class:"q-date__header "+f.value},[g("div",{class:"relative-position"},[g(me,{name:"q-transition--fade"},()=>g("div",{key:"h-yr-"+B.value,class:"q-date__header-subtitle q-date__header-link "+(H.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...D("vY",{onClick(){H.value="Years"},onKeyup(t){t.keyCode===13&&(H.value="Years")}})},[B.value]))]),g("div",{class:"q-date__header-title relative-position flex no-wrap"},[g("div",{class:"relative-position col"},[g(me,{name:"q-transition--fade"},()=>g("div",{key:"h-sub"+we.value,class:"q-date__header-title-label q-date__header-link "+(H.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:u.value,...D("vC",{onClick(){H.value="Calendar"},onKeyup(t){t.keyCode===13&&(H.value="Calendar")}})},[we.value]))]),e.todayBtn===!0?g(Z,{class:"q-date__header-today self-start",icon:d.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:u.value,onClick:Ue}):null])])}function Fe({label:t,type:a,key:n,dir:i,goTo:c,boundaries:S,cls:m}){return[g("div",{class:"row items-center q-date__arrow"},[g(Z,{round:!0,dense:!0,size:"sm",flat:!0,icon:oe.value[0],tabindex:u.value,disable:S.prev===!1,...D("go-#"+a,{onClick(){c(-1)}})})]),g("div",{class:"relative-position overflow-hidden flex flex-center"+m},[g(me,{name:"q-transition--jump-"+i},()=>g("div",{key:n},[g(Z,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:u.value,...D("view#"+a,{onClick:()=>{H.value=a}})})]))]),g("div",{class:"row items-center q-date__arrow"},[g(Z,{round:!0,dense:!0,size:"sm",flat:!0,icon:oe.value[1],tabindex:u.value,disable:S.next===!1,...D("go+#"+a,{onClick(){c(1)}})})])]}const Zt={Calendar:()=>[g("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[g("div",{class:"q-date__navigation row items-center no-wrap"},Fe({label:C.value.months[h.value.month-1],type:"Months",key:h.value.month,dir:P.value,goTo:tt,boundaries:Ae.value.month,cls:" col"}).concat(Fe({label:h.value.year,type:"Years",key:h.value.year,dir:he.value,goTo:Ee,boundaries:Ae.value.year,cls:""}))),g("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},qt.value.map(t=>g("div",{class:"q-date__calendar-item"},[g("div",t)]))),g("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[g(me,{name:"q-transition--slide-"+P.value},()=>g("div",{key:j.value,class:"q-date__calendar-days fit"},Xe.value.map(t=>g("div",{class:t.classes},[t.in===!0?g(Z,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:u.value,...D("day#"+t.i,{onClick:()=>{zt(t.i)},onMouseover:()=>{Rt(t.i)}})},t.event!==!1?()=>g("div",{class:"q-date__event bg-"+t.event}):null):g("div",""+t.i)]))))])])],Months(){const t=h.value.year===N.value.year,a=i=>p.value!==null&&h.value.year===p.value.year&&p.value.month>i||q.value!==null&&h.value.year===q.value.year&&q.value.month<i,n=C.value.monthsShort.map((i,c)=>{const S=h.value.month===c+1;return g("div",{class:"q-date__months-item flex flex-center"},[g(Z,{class:t===!0&&N.value.month===c+1?"q-date__today":null,flat:S!==!0,label:i,unelevated:S,color:S===!0?L.value:null,textColor:S===!0?J.value:null,tabindex:u.value,disable:a(c+1),...D("month#"+c,{onClick:()=>{Bt(c+1)}})})])});return e.yearsInMonthView===!0&&n.unshift(g("div",{class:"row no-wrap full-width"},[Fe({label:h.value.year,type:"Years",key:h.value.year,dir:he.value,goTo:Ee,boundaries:Ae.value.year,cls:" col"})])),g("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},n)},Years(){const t=te.value,a=t+le,n=[],i=c=>p.value!==null&&p.value.year>c||q.value!==null&&q.value.year<c;for(let c=t;c<=a;c++){const S=h.value.year===c;n.push(g("div",{class:"q-date__years-item flex flex-center"},[g(Z,{key:"yr"+c,class:N.value.year===c?"q-date__today":null,flat:!S,label:c,dense:!0,unelevated:S,color:S===!0?L.value:null,textColor:S===!0?J.value:null,tabindex:u.value,disable:i(c),...D("yr#"+c,{onClick:()=>{Pt(c)}})})]))}return g("div",{class:"q-date__view q-date__years flex flex-center"},[g("div",{class:"col-auto"},[g(Z,{round:!0,dense:!0,flat:!0,icon:oe.value[0],tabindex:u.value,disable:i(t),...D("y-",{onClick:()=>{te.value-=le}})})]),g("div",{class:"q-date__years-content col self-stretch row items-center"},n),g("div",{class:"col-auto"},[g(Z,{round:!0,dense:!0,flat:!0,icon:oe.value[1],tabindex:u.value,disable:i(a),...D("y+",{onClick:()=>{te.value+=le}})})])])}};function zt(t){const a={...h.value,day:t};if(e.range===!1){Lt(a,j.value);return}if(k.value===null){const n=Xe.value.find(c=>c.fill!==!0&&c.i===t);if(e.noUnset!==!0&&n.range!==void 0){je({target:a,from:n.range.from,to:n.range.to});return}if(n.selected===!0){je(a);return}const i=U(a);k.value={init:a,initHash:i,final:a,finalHash:i},s("rangeStart",re(a))}else{const n=k.value.initHash,i=U(a),c=n<=i?{from:k.value.init,to:a}:{from:a,to:k.value.init};k.value=null,Ve(n===i?a:{target:a,...c}),s("rangeEnd",{from:re(c.from),to:re(c.to)})}}function Rt(t){if(k.value!==null){const a={...h.value,day:t};Object.assign(k.value,{final:a,finalHash:U(a)})}}return Object.assign(l,{setToday:Ue,setView:jt,offsetCalendar:Ft,setCalendarTo:Ie,setEditingRange:Nt}),()=>{const t=[g("div",{class:"q-date__content col relative-position"},[g(me,{name:"q-transition--fade"},Zt[H.value])])],a=wt(o.default);return a!==void 0&&t.push(g("div",{class:"q-date__actions"},a)),e.name!==void 0&&e.disable!==!0&&A(t,"push"),g("div",{class:qe.value,...Vt.value},[Qt(),g("div",{ref:I,class:"q-date__main col column",tabindex:-1},t)])}}}),Fa=St({name:"QTooltip",inheritAttrs:!1,props:{...ga,...na,...Ne,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...Ne.transitionShow,default:"jump-down"},transitionHide:{...Ne.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:dt},self:{type:String,default:"top middle",validator:dt},offset:{type:Array,default:()=>[14,14],validator:ya},scrollTarget:oa,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...ra],setup(e,{slots:o,emit:s,attrs:l}){let d,r;const D=xt(),{proxy:{$q:u}}=D,f=T(null),b=T(!1),v=y(()=>vt(e.anchor,u.lang.rtl)),_=y(()=>vt(e.self,u.lang.rtl)),F=y(()=>e.persistent!==!0),{registerTick:A,removeTick:I}=la(),{registerTimeout:V}=ua(),{transitionProps:C,transitionStyle:pe}=sa(e),{localScrollTarget:be,changeScrollEvent:N,unconfigureScrollTarget:h}=_a(e,ie),{anchorEl:H,canShow:Se,anchorEvents:P}=Da({showing:b,configureAnchorEl:se}),{show:he,hide:ee}=ia({showing:b,canShow:Se,handleShow:L,handleHide:J,hideOnRouteChange:F,processOnMount:!0});Object.assign(P,{delayShow:$,delayHide:W});const{showPortal:te,hidePortal:k,renderPortal:qe}=ca(D,f,we,"tooltip");if(u.platform.is.mobile===!0){const O={anchorEl:H,innerRef:f,onClickOutside(B){return ee(B),B.target.classList.contains("q-dialog__backdrop")&&va(B),!0}},ge=y(()=>e.modelValue===null&&e.persistent!==!0&&b.value===!0);ue(ge,B=>{(B===!0?ba:ft)(O)}),lt(()=>{ft(O)})}function L(O){te(),A(()=>{r=new MutationObserver(()=>Q()),r.observe(f.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),Q(),ie()}),d===void 0&&(d=ue(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,Q)),V(()=>{te(!0),s("show",O)},e.transitionDuration)}function J(O){I(),k(),ae(),V(()=>{k(!0),s("hide",O)},e.transitionDuration)}function ae(){r!==void 0&&(r.disconnect(),r=void 0),d!==void 0&&(d(),d=void 0),h(),ut(P,"tooltipTemp")}function Q(){Ma({targetEl:f.value,offset:e.offset,anchorEl:H.value,anchorOrigin:v.value,selfOrigin:_.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function $(O){if(u.platform.is.mobile===!0){mt(),document.body.classList.add("non-selectable");const ge=H.value,B=["touchmove","touchcancel","touchend","click"].map(oe=>[ge,oe,"delayHide","passiveCapture"]);st(P,"tooltipTemp",B)}V(()=>{he(O)},e.delay)}function W(O){u.platform.is.mobile===!0&&(ut(P,"tooltipTemp"),mt(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),V(()=>{ee(O)},e.hideDelay)}function se(){if(e.noParentEvent===!0||H.value===null)return;const O=u.platform.is.mobile===!0?[[H.value,"touchstart","delayShow","passive"]]:[[H.value,"mouseenter","delayShow","passive"],[H.value,"mouseleave","delayHide","passive"]];st(P,"anchor",O)}function ie(){if(H.value!==null||e.scrollTarget!==void 0){be.value=da(H.value,e.scrollTarget);const O=e.noParentEvent===!0?Q:ee;N(be.value,O)}}function ne(){return b.value===!0?g("div",{...l,ref:f,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",l.class],style:[l.style,pe.value],role:"tooltip"},wt(o.default)):null}function we(){return g(me,C.value,ne)}return lt(ae),Object.assign(D.proxy,{updatePosition:Q}),qe}});function Na(){const e=new Date,o=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0");return`${o}/${s}/${l}`}const Pa={days:"Domingo_Segunda_Ter\xE7a_Quarta_Quinta_Sexta_S\xE1bado".split("_"),daysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xE1b".split("_"),months:"Janeiro_Fevereiro_Mar\xE7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),firstDayOfWeek:1,format24h:!0,pluralDay:"dias"};function Mt(){const e=new Date,o=String(e.getHours()).padStart(2,"0"),s=String(e.getMinutes()).padStart(2,"0"),l=String(e.getSeconds()).padStart(2,"0");return`${o}:${s}:${l}`}const Ba={class:"agendamento"},La={class:"agendamento__container"},Qa={class:"agendamento__hours"},Za={class:"agendamento__profissionais fit"},za={class:"agendamento__profissional-header"},Ra=Yt({name:"Agendamento",__name:"Agendamento",props:{data:{}},setup(e){const o=e,s=T(Na()),l=T(Mt());setInterval(()=>{l.value=Mt()},1e3);const d=T(Pa);function r(f){return!!o.data.find(b=>b.dia===f.replaceAll("/","-"))}const D=T(o.data.reduce((f,b)=>{const{profissional:v}=b;return f[v]||(f[v]=[]),f[v].push(b),f},{})),u=y(()=>{const f=new Date,b=f.getHours(),v=f.getMinutes(),_=(b+v/60)/23*100;return console.log(b,_),{top:_+"%"}});return(f,b)=>(De(),He("div",Ba,[z("div",null,[Me(ja,{flat:"",month:"",modelValue:s.value,"onUpdate:modelValue":b[0]||(b[0]=v=>s.value=v),locale:d.value,events:r,"event-color":"primary"},null,8,["modelValue","locale"])]),z("div",La,[Me(Sa,{class:"fit"},{default:Te(()=>[z("div",Qa,[(De(),He(it,null,ct(24,v=>z("div",{class:"agendamento__hour",key:v},Ce(v-1)+"h",1)),64)),z("div",{class:"agendamento__hour-now",style:fa(u.value)},[z("div",null,Ce(l.value),1)],4)]),z("div",Za,[(De(!0),He(it,null,ct(D.value,(v,_)=>(De(),He("div",{class:"agendamento__profissional",key:_},[z("div",za,[Ze(Ce(_)+" ",1),Me(Fa,null,{default:Te(()=>[Ze(Ce(_),1)]),_:2},1024)])]))),128))])]),_:1})])]))}}),Ja={class:"default__box-shadow"},on=Yt({name:"Agenda",__name:"Agenda",setup(e){const o=T([{nome_paciente:"Bernardo",profissional:"Aline de Carvalho Fernandes",dia:"2025-01-22",hora_inicial:"8:00",hora_final:"8:50"},{nome_paciente:"Felipe",profissional:"Aline de Carvalho Fernandes",dia:"2025-01-22",hora_inicial:"10:00",hora_final:"10:50"},{nome_paciente:"Arthur",profissional:"Luis",dia:"2025-01-22",hora_inicial:"9:00",hora_final:"9:50"}]);return(s,l)=>(De(),ma(Jt,null,{default:Te(()=>[Me(Wt,{"add-button":!0,"add-button-label":"Adicionar agendamento"},{default:Te(()=>l[0]||(l[0]=[Ze("Agenda")])),_:1}),z("section",Ja,[Me(Ra,{data:o.value},null,8,["data"])])]),_:1}))}});export{on as default};
